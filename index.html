<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Smart Commute</title>

    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: #f5f5f5;
        }

        header {
            background: #1e4d8a;
            color: white;
            padding: 20px;
            text-align: center;
        }

        .container {
            width: 80%;
            margin: 30px auto;
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }

        h2 {
            text-align: center;
            margin-top: 40px;
        }

        .nav-options p {
            background: #e8eef7;
            padding: 12px;
            border-radius: 6px;
            cursor: pointer;
            transition: 0.2s;
        }

        .nav-options p:hover {
            background: #d4e0f5;
        }

        .register-btn {
            display: block;
            width: 200px;
            margin: 20px auto;
            padding: 12px;
            background: #4a90e2;
            color: white;
            text-align: center;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            transition: 0.2s;
            text-decoration: none;
        }

        .register-btn:hover {
            background: #357ab8;
        }

        iframe {
            display: block;
            margin: 20px auto;
            border: 0;
            border-radius: 8px;
        }

        /* --- Schedule Editor Styles --- */

        .title {
            text-align: center;
            margin-top: 30px;
            color: #1e4d8a;
        }

        .editor-container {
            width: 90%;
            margin: 20px auto;
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }

        .form-box {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 30px;
        }

        label {
            font-weight: bold;
        }

        input, select {
            padding: 10px;
            border-radius: 6px;
            border: 1px solid #ccc;
        }

        .add-btn {
            margin-top: 10px;
            padding: 12px;
            background: #4a90e2;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
        }

        .add-btn:hover {
            background: #357ab8;
        }

        .subtitle {
            margin-top: 20px;
            color: #1e4d8a;
        }

        .schedule-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }

        .schedule-table th, .schedule-table td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: center;
        }

        .schedule-table th {
            background: #e8eef7;
        }

        .action-btn {
            padding: 6px 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .edit-btn {
            background: #ffc107;
            color: black;
        }

        .delete-btn {
            background: #dc3545;
            color: white;
        }
    </style>
</head>

<body>

<header>
    <h1>Smart Commute</h1>
    <p>Your personalized navigation and schedule assistant</p>
</header>

<div class="container">
    <h2>Get Started</h2>

    <a href="register.html" class="register-btn">Create Account</a>

    <div class="nav-options">
        <p><strong>Institution:</strong> Georgia State University</p>
        <p onclick="document.getElementById('schedule-section').scrollIntoView({behavior:'smooth'})">
            Add schedule
        </p>
    </div>

    <h2>Map of Georgia State University</h2>

    <iframe 
        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d6634.587980674266!2d-84.38947233878426!3d33.75306810237689!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x88f5038613efe1b9%3A0x4ac19f9be05c6e97!2sGeorgia%20State%20University!5e0!3m2!1sen!2sus!4v1771955693639!5m2!1sen!2sus"
        width="600"
        height="450"
        loading="lazy"
        referrerpolicy="no-referrer-when-downgrade">
    </iframe>
</div>

<!-- ⭐ Schedule Editor Section -->
<div id="schedule-section" class="editor-container">
    <h2 class="title">Schedule Editor</h2>

    <form id="scheduleForm" class="form-box">
        <label for="course">Course Name</label>
        <input type="text" id="course" name="course" placeholder="Enter course name">

        <label>Day(s) of the Week</label>

        <div class="day-checkboxes">
            <label><input type="checkbox" name="days" value="Monday"> Monday</label>
            <label><input type="checkbox" name="days" value="Tuesday"> Tuesday</label>
            <label><input type="checkbox" name="days" value="Wednesday"> Wednesday</label>
            <label><input type="checkbox" name="days" value="Thursday"> Thursday</label>
            <label><input type="checkbox" name="days" value="Friday"> Friday</label>
        </div>



        <label for="start">Start Time</label>
        <input type="time" id="start" name="start">

        <label for="end">End Time</label>
        <input type="time" id="end" name="end">

        <button type="button" class="add-btn" onclick="addClass()">Add Class</button>
    </form>

    <h3 class="subtitle">Your Schedule</h3>

    <table id="scheduleTable" class="schedule-table">
        <tr>
            <th>Course</th>
            <th>Day</th>
            <th>Start</th>
            <th>End</th>
            <th>Actions</th>
        </tr>
<h3 class="subtitle">Weekly Schedule</h3>

<table id="weekTable" class="schedule-table">
    <tr>
        <th>Time</th>
        <th>Monday</th>
        <th>Tuesday</th>
        <th>Wednesday</th>
        <th>Thursday</th>
        <th>Friday</th>
    </tr>

    <script>
        // Visible times (every 15 minutes)
        const displayTimes = [
            "08:00 AM", "08:15 AM", "08:30 AM", "08:45 AM",
            "09:00 AM", "09:15 AM", "09:30 AM", "09:45 AM",
            "10:00 AM", "10:15 AM", "10:30 AM", "10:45 AM",
            "11:00 AM", "11:15 AM", "11:30 AM", "11:45 AM",
            "12:00 PM", "12:15 PM", "12:30 PM", "12:45 PM",
            "01:00 PM", "01:15 PM", "01:30 PM", "01:45 PM",
            "02:00 PM", "02:15 PM", "02:30 PM", "02:45 PM",
            "03:00 PM", "03:15 PM", "03:30 PM", "03:45 PM",
            "04:00 PM", "04:15 PM", "04:30 PM", "04:45 PM",
            "05:00 PM", "05:15 PM", "05:30 PM", "05:45 PM",
            "06:00 PM", "06:15 PM", "06:30 PM", "06:45 PM",
            "07:00 PM", "07:15 PM", "07:30 PM", "07:45 PM",
            "08:00 PM", "08:15 PM", "08:30 PM", "08:45 PM",
            "09:00 PM", "09:15 PM", "09:30 PM", "09:45 PM"
        ];

        // "08:15 AM" → "08-15", "01:30 PM" → "13-30"
        function toIdPart(t) {
            let [time, mer] = t.split(" ");
            let [h, m] = time.split(":").map(Number);

            if (mer === "PM" && h !== 12) h += 12;
            if (mer === "AM" && h === 12) h = 0;

            return `${String(h).padStart(2,'0')}-${m.toString().padStart(2,'0')}`;
        }

        document.write(displayTimes.map(t => {
            const idPart = toIdPart(t); // e.g. "13-15"

            return `
                <tr>
                    <td>${t}</td>
                    ${["Mon","Tue","Wed","Thu","Fri"].map(day => `
                        <td id="${day}-${idPart}"></td>
                    `).join("")}
                </tr>
            `;
        }).join(""));
    </script>
</table>



</div>

<script>
function addClass() {
    let course = document.getElementById("course").value;
    let start = document.getElementById("start").value; // "09:10"
    let end = document.getElementById("end").value;     // "10:40"

    // Collect checked days
    let selectedDays = Array.from(document.querySelectorAll("input[name='days']:checked"))
                            .map(cb => cb.value);

    if (!course || selectedDays.length === 0 || !start || !end) {
        alert("Please fill out all fields and select at least one day.");
        return;
    }

    // Add to main schedule table
    let table = document.getElementById("scheduleTable");

    selectedDays.forEach(day => {
        let row = table.insertRow(-1);

        row.insertCell(0).innerText = course;
        row.insertCell(1).innerText = day;
        row.insertCell(2).innerText = start;
        row.insertCell(3).innerText = end;

        row.insertCell(4).innerHTML = `
            <button class="action-btn edit-btn">Edit</button>
            <button class="action-btn delete-btn" onclick="this.parentElement.parentElement.remove()">Delete</button>
        `;
    });

    // WEEKLY GRID UPDATE (quarter-hour support)
    const short = {
        "Monday": "Mon",
        "Tuesday": "Tue",
        "Wednesday": "Wed",
        "Thursday": "Thu",
        "Friday": "Fri"
    };

    function toMinutes(t) {
        let [h, m] = t.split(":").map(Number);
        return h * 60 + m;
    }

    function roundToQuarter(mins) {
        return Math.floor(mins / 15) * 15;
    }

    let startMinTotal = toMinutes(start);
    let endMinTotal = toMinutes(end);

    let blockStart = roundToQuarter(startMinTotal);
    let blockEnd = roundToQuarter(endMinTotal);

    selectedDays.forEach(day => {
        let prefix = short[day];

        for (let t = blockStart; t <= blockEnd; t += 15) {
            let hour = Math.floor(t / 60);
            let minute = t % 60;

            let cellId = `${prefix}-${String(hour).padStart(2,'0')}-${String(minute).padStart(2,'0')}`;
            let cell = document.getElementById(cellId);

            if (cell) {
                if (t === blockStart) {
                    // First block: show course + time
                    cell.innerHTML += `
                        <div style="
                            background:#4a90e2;
                            color:white;
                            margin:2px 0;
                            padding:3px 4px;
                            border-radius:4px;
                            font-size:12px;
                            text-align:center;
                        ">
                            ${course}<br>${start} - ${end}
                        </div>
                    `;
                } else {
                    // Continuation blocks: subtle bar
                    cell.innerHTML += `
                        <div style="
                            background:#cfe2ff;
                            margin:1px 0;
                            height:6px;
                            border-radius:3px;
                        "></div>
                    `;
                }
            }
        }
    });

    // Reset checkboxes
    document.querySelectorAll("input[name='days']").forEach(cb => cb.checked = false);
    document.getElementById("scheduleForm").reset();
}
</script>




</body>
</html>
